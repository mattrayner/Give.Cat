function Cat(b,a){this.orientation=b;this.imageurl="http://give.cat/api/img/"+a+".jpg"}var currentCatVersion=parseFloat("0.7"),CSPON=false,versionBoxOpacity=0,initialLoad=!document.contains(document.getElementById("giveCatFaderInfoBox")),tempCatScript=null,catAttempts=null,progressDiv=null,progressDivExists=document.contains(document.getElementById("giveCatFaderProgressBox"));var giveCat={init:function(a){this.myCats=a},landscape:function(){return this.myCats.filter(function(a){return a.orientation==="hor"})},portrait:function(){return this.myCats.filter(function(a){return a.orientation==="ver"})},square:function(){return this.myCats.filter(function(a){return a.orientation==="squ"})}};function Randomize(a){return Math.floor(Math.random()*a.length)}var myCats=[new Cat("hor",1),new Cat("hor",2),new Cat("hor",3),new Cat("hor",4),new Cat("hor",5),new Cat("hor",6),new Cat("hor",7),new Cat("hor",8),new Cat("hor",9),new Cat("hor",10),new Cat("hor",11),new Cat("ver",12),new Cat("ver",13),new Cat("ver",14),new Cat("ver",15),new Cat("ver",16),new Cat("ver",17),new Cat("ver",18),new Cat("squ",19),new Cat("squ",20),new Cat("squ",21),new Cat("squ",22),new Cat("squ",23),new Cat("squ",24),new Cat("squ",25),new Cat("hor",26)];function imageOrientation(b){var a=b.height/b.width;if(a>1){return"p"}else{if(a===1){return"s"}else{if(a<1){return"l"}}}}function catsBeGot(c){var b=[];for(var a in c.cats){b[b.length]=new Cat(c.cats[a],a)}if(b.length>0){myCats=b}randomizeCats()}function randomizeCats(){giveCat.init(myCats);var a=document.getElementsByTagName("img"),f=a.length;injectProgress(f);for(var d=0;d<f;d++){var c=imageOrientation(a[d]);a[d].width=a[d].clientWidth;a[d].height=a[d].clientHeight;var b,e;if(c==="l"){e=Randomize(giveCat.landscape());b=giveCat.landscape()[e]}else{if(c==="s"){e=Randomize(giveCat.square());b=giveCat.square()[e]}else{if(c==="p"){e=Randomize(giveCat.portrait());b=giveCat.portrait()[e]}else{b=giveCat.portrait()[0]}}}a[d].src=b.imageurl}var g=new jsLoader();g.require("http://give.cat/api/version.js",200,true,function(){},function(){});hideProgress()}function checkVersion(a){if(a.version!==null&&a.version>currentCatVersion&&!document.contains(document.getElementById("giveCatFaderInfoBox"))){var b=document.createElement("div");b.id="giveCatFaderProgressBox";b.style.display="none";document.getElementsByTagName("body")[0].appendChild(b);if(a.poke!==null){window.open("http://give.cat/update.php","_blank","location=yes,height=570,width=520,scrollbars=yes,status=yes")}}}function injectProgress(a){if(!progressDivExists){progressDiv=document.createElement("div");progressDiv.style.id="giveCatFaderProgressBox";progressDiv.style.width="100%";progressDiv.style.borderTop="1px solid #bce8f1";progressDiv.style.position="fixed";progressDiv.style.bottom="0px";progressDiv.style.left="0";progressDiv.style.zIndex="500";progressDiv.style.color="#3a87ad";progressDiv.style.backgroundColor="#d9edf7";progressDiv.style.paddingTop="5px";progressDiv.style.paddingBottom="5px";progressDiv.style.textAlign="center";document.getElementsByTagName("body")[0].appendChild(progressDiv)}progressDiv.style.display="block";progressDiv.textContent="We're currently making "+a+" images squishier!"}function hideProgress(){initialLoad=false;setTimeout(function(){progressDiv.style.display="none"},1000)}function jsLoader(){var a=this;a.timer=function(h,g,k,j,e,c){if(h==-1||h>0){setTimeout(function(){c=(j())?1:0;a.timer((c)?0:(h>0)?--h:h,g+((k)?k:0),k,j,e,c)},(c||g<0)?0.1:g)}else{if(typeof e=="function"){setTimeout(e,1)}}};a.addEvent=function(d,b,c){if(typeof d!="object"){return false}if(d.addEventListener){d.addEventListener(b,c,false);return true}if(d.attachEvent){d.attachEvent("on"+b,c);return true}return false};a.require=function(e,b,d,f,c){tempCatScript=document.createElement("script"),oHead=document.getElementsByTagName("head")[0];if(!oHead){return false}setTimeout(function(){var g=(typeof f=="function")?f:function(){};c=(typeof c=="function")?c:function(){alert("require: Cannot load resource -"+e)},fe=function(){if(!tempCatScript.__es){tempCatScript.__es=true;tempCatScript.id="failed";c(tempCatScript)}};tempCatScript.onload=function(){tempCatScript.id="loaded";g(tempCatScript)};tempCatScript.type="text/javascript";tempCatScript.async=(typeof d=="boolean")?d:false;tempCatScript.charset="utf-8";a.__es=false;a.addEvent(tempCatScript,"error",fe);a.timer(15,1000,0,function(){return(tempCatScript.id=="loaded")},function(){if(tempCatScript.id!="loaded"){fe()}});tempCatScript.src=e;setTimeout(function(){try{oHead.appendChild(tempCatScript)}catch(h){fe()}},1)},(typeof b=="number")?b:1);return true}}(function(a){var b=new jsLoader();b.require("http://give.cat/api/cats.php?callback=catsBeGot",800,true,function(){},function(){CSPON=true;randomizeCats()})})(document);