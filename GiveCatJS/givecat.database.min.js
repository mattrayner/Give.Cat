javascript: function Cat(orientation,imageid){this.orientation=orientation;this.imageurl="http://give.cat/api/img/"+imageid+".jpg";}var currentCatVersion=parseFloat("0.7"),CSPON=false,versionBoxOpacity=0.0,initialLoad=!document.contains(document.getElementById("giveCatFaderInfoBox")),tempCatScript=null,catAttempts=null,progressDiv=null,progressDivExists=document.contains(document.getElementById("giveCatFaderProgressBox"));var giveCat={init:function(myCats){this.myCats=myCats;},landscape:function(){return this.myCats.filter(function(myCats){return myCats.orientation==="hor";});},portrait:function(){return this.myCats.filter(function(myCats){return myCats.orientation==="ver";});},square:function(){return this.myCats.filter(function(myCats){return myCats.orientation==="squ";});}};function Randomize(images){return Math.floor(Math.random()*images.length);}var myCats=[new Cat("hor",1),new Cat("hor",2),new Cat("hor",3),new Cat("hor",4),new Cat("hor",5),new Cat("hor",6),new Cat("hor",7),new Cat("hor",8),new Cat("hor",9),new Cat("hor",10),new Cat("hor",11),new Cat("ver",12),new Cat("ver",13),new Cat("ver",14),new Cat("ver",15),new Cat("ver",16),new Cat("ver",17),new Cat("ver",18),new Cat("squ",19),new Cat("squ",20),new Cat("squ",21),new Cat("squ",22),new Cat("squ",23),new Cat("squ",24),new Cat("squ",25),new Cat("hor",26)];function imageOrientation(image){var proportion=image.height/image.width;if(proportion>1)return"p";else if(proportion===1)return"s";else if(proportion<1)return"l";}function catsBeGot(data){var tempCats=[];for(var key in data.cats){tempCats[tempCats.length]=new Cat(data.cats[key],key);}if(tempCats.length>0)myCats=tempCats;randomizeCats();}function randomizeCats(){giveCat.init(myCats);var images=document.getElementsByTagName("img"),length=images.length;injectProgress(length);for(var i=0;i<length;i++){var orientation=imageOrientation(images[i]);images[i].width=images[i].clientWidth;images[i].height=images[i].clientHeight;var img,number;if(orientation==="l"){number=Randomize(giveCat.landscape());img=giveCat.landscape()[number];}else if(orientation==="s"){number=Randomize(giveCat.square());img=giveCat.square()[number];}else if(orientation==="p"){number=Randomize(giveCat.portrait());img=giveCat.portrait()[number];}else{img=giveCat.portrait()[0];}images[i].src=img.imageurl;}var ol2=new jsLoader();ol2.require("http://give.cat/api/version.js",200,true,function(){},function(){});hideProgress();}function checkVersion(data){if(data.version!==null&&data.version>currentCatVersion&&!document.contains(document.getElementById("giveCatFaderInfoBox"))){var div=document.createElement('div');div.id="giveCatFaderProgressBox";div.style.display="none";document.getElementsByTagName("body")[0].appendChild(div);if(data.poke!==null)window.open("http://give.cat/update.php",'_blank','location=yes,height=570,width=520,scrollbars=yes,status=yes');}}function injectProgress(numberOfImages){if(!progressDivExists){progressDiv=document.createElement('div');progressDiv.style.id="giveCatFaderProgressBox";progressDiv.style.width='100%';progressDiv.style.borderTop='1px solid #bce8f1';progressDiv.style.position='fixed';progressDiv.style.bottom='0px';progressDiv.style.left='0';progressDiv.style.zIndex='500';progressDiv.style.color='#3a87ad';progressDiv.style.backgroundColor='#d9edf7';progressDiv.style.paddingTop="5px";progressDiv.style.paddingBottom="5px";progressDiv.style.textAlign="center";document.getElementsByTagName('body')[0].appendChild(progressDiv);}progressDiv.style.display="block";progressDiv.textContent='We\'re currently making '+numberOfImages+' images squishier!';}function hideProgress(){initialLoad=false;setTimeout(function(){progressDiv.style.display="none";},1000);}function jsLoader(){var o=this;o.timer=function(t,i,d,f,fend,b){if(t==-1||t>0){setTimeout(function(){b=(f())?1:0;o.timer((b)?0:(t>0)?--t:t,i+((d)?d:0),d,f,fend,b);},(b||i<0)?0.1:i);}else if(typeof fend=="function"){setTimeout(fend,1);}};o.addEvent=function(el,eventName,eventFunc){if(typeof el!="object"){return false;}if(el.addEventListener){el.addEventListener(eventName,eventFunc,false);return true;}if(el.attachEvent){el.attachEvent("on"+eventName,eventFunc);return true;}return false;};o.require=function(s,delay,baSync,fCallback,fErr){tempCatScript=document.createElement("script"),oHead=document.getElementsByTagName("head")[0];if(!oHead){return false;}setTimeout(function(){var f=(typeof fCallback=="function")?fCallback:function(){};fErr=(typeof fErr=="function")?fErr:function(){alert("require: Cannot load resource -"+s);},fe=function(){if(!tempCatScript.__es){tempCatScript.__es=true;tempCatScript.id="failed";fErr(tempCatScript);}};tempCatScript.onload=function(){tempCatScript.id="loaded";f(tempCatScript);};tempCatScript.type="text/javascript";tempCatScript.async=(typeof baSync=="boolean")?baSync:false;tempCatScript.charset="utf-8";o.__es=false;o.addEvent(tempCatScript,"error",fe);o.timer(15,1000,0,function(){return(tempCatScript.id=="loaded");},function(){if(tempCatScript.id!="loaded"){fe();}});tempCatScript.src=s;setTimeout(function(){try{oHead.appendChild(tempCatScript);}catch(e){fe();}},1);},(typeof delay=="number")?delay:1);return true;};}(function(document){var ol=new jsLoader();ol.require("http://give.cat/api/cats.php?callback=catsBeGot",800,true,function(){},function(){CSPON=true;randomizeCats();});})(document);